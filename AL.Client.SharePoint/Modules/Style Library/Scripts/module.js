var module=function(){function processCallbackQueue(a,b){for(;a.length>0;)a.pop().apply(null,b)}function requestScript(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){d.readyState===XMLHttpRequest.DONE&&(200===d.status?b(d.responseText):c(d.status))},d.open("GET",a),d.send()}function executeModule(body,parameters,aliases){function exports(a){moduleValue=a}body="(function("+aliases.join(",")+") { "+body+"})";var func=eval(body),moduleValue=null;return func.apply(null,parameters),moduleValue}function require(a,b){return{reference:a,alias:b}}function readModuleBody(body,requiredModules,moduleParameters){for(var match=null;match=body.match(requireRegex);){var module=eval(match[1]);requiredModules.push(module.reference),moduleParameters.push(module.alias||"none"),body=body.replace(requireRegex,"")}return body}function loadModule(a,b,c){if(b.state=moduleState.loading,b.url.match(/.css$/)){var d=document.createElement("link");d.setAttribute("rel","stylesheet"),d.setAttribute("href",b.url),document.getElementsByTagName("head")[0].appendChild(d),b.state=moduleState.loaded,b.value=null,c(b)}else requestScript(b.url,function(d){if(b.value=null,b.global)(1,eval)(d),b.state=moduleState.loaded,c(b);else{var e=[],f=[];try{d=readModuleBody(d,e,f)}catch(g){throw"Error reading module '"+b.name+"' at '"+b.url+"' -- "+g}e.push(function(){var a=Array.prototype.slice.call(arguments);b.value=executeModule(d,a,f),b.state=moduleState.loaded,c(b)}),a.require.apply(a,e)}},function(a){throw"Unable to load module: '"+b.name+"' at: '"+b.url+"' -- "+a})}function findModule(a,b){for(var c=0;c<a.length&&a[c].name!==b;c++);return a[c]}function defineModule(a,b,c){if(!c&&findModule(a._moduleCache,b.name))throw"Module with name: '"+b.name+"' is already defined";var d={state:moduleState.defined,callbackQueue:[],name:b.name,url:b.url,global:b.global};return a._moduleCache.unshift(d),d}function fillModuleReference(a,b){return"string"==typeof a?a={name:a,url:b+a}:a.url&&(a.name=a.name||a.url.substring(a.url.lastIndexOf("/")+1)),a}function getModule(a,b,c){b=fillModuleReference(b,a.defaultUrl);var d=findModule(a._moduleCache,b.name)||defineModule(a,b);d.state===moduleState.loaded?c(d):(d.callbackQueue.push(c),d.state===moduleState.defined&&loadModule(a,d,function(a){processCallbackQueue(a.callbackQueue,[a])}))}function getModuleValue(a,b,c){getModule(a,b,function(a){c(a.value)})}function requireModules(a,b,c){var d=[],e=b.map(function(b,c){var e=new deferred;return getModuleValue(a,b,function(a){d[c]=a,e.resolve(a)}),e.promise()});deferred.all(e).done(function(){c&&c.apply(null,d)})}function initModule(a){var b=document.querySelector("script[src$='/module.js']"),c=b.src.replace("module.js","");a._defaultUrl=c,getModuleValue(a,"deferred.js",function(b){a._state=state.ready,deferred=b,processCallbackQueue(a._onreadyQueue)})}function Module(a){this._state=state.pending,this._onreadyQueue=[],this._moduleCache=[],this._options=a||{},this._defaultUrl=null,initModule(this)}var deferred,requireRegex=/^\s*\/\/!\s*(require\([^\)]+\))/,moduleRegex=/{\s*modulePlaceholder\s*:\s*(true|!0)\s*}/,moduleReplace="externalModule",state={pending:0,ready:1},moduleState={defined:0,loading:1,loaded:2,error:3};Module.prototype={get defaultUrl(){return this._defaultUrl},set onready(a){this._onreadyQueue.unshift(a),this._state===state.ready&&processCallbackQueue(this._onreadyQueue)},define:function(){var a=this,b=Array.prototype.slice.call(arguments);this.onready=function(){for(var c=0;c<b.length;c++){var d=fillModuleReference(b[c],a.defaultUrl);defineModule(a,d)}}},require:function(){var a=this,b=Array.prototype.slice.call(arguments),c=b.splice(b.length-1)[0];0===b.length?c():this.onready=function(){requireModules(a,b,c)}}};var ret=new Module;return ret.Module=Module,ret}();